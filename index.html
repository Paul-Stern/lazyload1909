<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <title>Document</title>
    <link href="main.css" rel="stylesheet"/>
  </head>
  <body>
    <div id="box">
      <h1 id="h1">Aliquet nibh praesent.</h1>
      <p id="text1">
        In egestas erat imperdiet sed euismod nisi porta lorem mollis aliquam ut porttitor leo a diam sollicitudin tempor id eu nisl nunc mi ipsum, faucibus vitae aliquet nec? Lacus vel facilisis volutpat, est velit egestas dui, id ornare arcu odio ut sem nulla pharetra diam sit amet nisl suscipit adipiscing bibendum. Mattis aliquam faucibus purus in massa tempor nec feugiat nisl pretium fusce id velit ut tortor pretium viverra suspendisse potenti nullam ac tortor vitae purus faucibus ornare suspendisse sed nisi. Nam libero justo, laoreet sit amet cursus sit amet, dictum sit amet justo donec enim diam. Fusce id velit ut tortor! Morbi tristique senectus et netus et malesuada fames ac turpis egestas sed tempus, urna et pharetra pharetra, massa massa ultricies mi, quis hendrerit dolor magna eget est lorem ipsum. Et netus et malesuada fames ac turpis egestas sed tempus, urna et pharetra pharetra, massa massa ultricies mi, quis. Volutpat maecenas volutpat blandit aliquam etiam erat velit, scelerisque in! Consequat id porta nibh venenatis cras sed felis eget velit aliquet sagittis id consectetur purus ut faucibus pulvinar elementum integer enim neque. Nec ultrices dui sapien eget mi proin sed libero enim, sed faucibus turpis in eu! Orci phasellus egestas tellus rutrum tellus pellentesque eu tincidunt tortor aliquam nulla facilisi cras fermentum, odio eu feugiat pretium, nibh? Massa tempor nec feugiat nisl pretium fusce id velit ut tortor pretium viverra suspendisse potenti nullam ac tortor vitae purus faucibus ornare suspendisse sed nisi lacus, sed viverra tellus. Sit amet, mattis vulputate enim nulla aliquet porttitor lacus, luctus accumsan tortor posuere ac ut consequat semper viverra nam libero justo, laoreet sit. Fames ac turpis egestas sed tempus, urna et pharetra pharetra, massa massa ultricies mi, quis hendrerit dolor. Risus in hendrerit gravida rutrum quisque non! Morbi enim nunc, faucibus a pellentesque sit. Ipsum suspendisse ultrices gravida dictum fusce ut placerat orci nulla pellentesque dignissim enim, sit amet venenatis urna cursus eget! Sapien pellentesque habitant morbi tristique senectus et netus? Egestas congue quisque egestas diam in arcu cursus euismod quis viverra nibh cras pulvinar mattis nunc, sed blandit libero volutpat sed cras? Pretium, nibh ipsum consequat nisl, vel pretium lectus quam id leo in vitae turpis massa sed elementum tempus egestas sed sed risus pretium quam vulputate dignissim suspendisse. Dictum at tempor commodo, ullamcorper a lacus vestibulum sed arcu non odio euismod lacinia at quis risus! In mollis nunc sed id semper risus in hendrerit gravida rutrum. Amet, aliquam id diam maecenas ultricies mi eget mauris pharetra et ultrices neque ornare aenean euismod elementum nisi! Placerat orci nulla pellentesque dignissim enim, sit amet venenatis urna cursus eget nunc scelerisque viverra mauris, in aliquam sem fringilla ut morbi tincidunt! Viverra nibh cras pulvinar mattis nunc, sed blandit libero volutpat sed cras ornare arcu dui vivamus arcu felis! Vestibulum sed arcu non odio euismod lacinia at quis risus sed vulputate odio ut enim blandit volutpat maecenas! Fringilla est ullamcorper eget nulla facilisi etiam dignissim diam quis enim lobortis scelerisque fermentum dui faucibus in ornare quam?
      </p>
      <img src="img/01-blurred.jpg" data-src="img/01.jpg" class="blur">
      <p id="text2">
        Potenti nullam ac tortor vitae purus faucibus ornare suspendisse sed nisi lacus, sed viverra tellus in hac habitasse. Facilisis leo, vel fringilla est ullamcorper eget nulla facilisi etiam dignissim diam quis enim? Volutpat maecenas volutpat blandit aliquam etiam erat velit, scelerisque. Adipiscing bibendum est ultricies integer quis auctor elit sed vulputate mi sit amet mauris commodo quis imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper malesuada proin libero nunc. Egestas diam in arcu cursus euismod quis viverra nibh cras pulvinar? Leo integer malesuada nunc vel risus commodo viverra maecenas accumsan, lacus vel facilisis volutpat, est velit egestas dui, id ornare arcu odio ut sem nulla pharetra diam. Mauris, cursus mattis molestie a, iaculis at erat pellentesque adipiscing commodo. A diam maecenas sed enim ut sem viverra aliquet eget sit amet tellus cras adipiscing enim eu turpis. Elit pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas integer eget aliquet! Phasellus vestibulum lorem sed risus ultricies tristique nulla aliquet enim tortor, at auctor urna nunc id cursus metus aliquam eleifend mi? Nulla porttitor massa id neque aliquam vestibulum morbi blandit cursus risus, at ultrices mi tempus imperdiet nulla malesuada pellentesque elit eget gravida cum sociis natoque penatibus! Et tortor at risus viverra adipiscing at in tellus integer feugiat scelerisque? Quis risus sed vulputate odio ut enim blandit volutpat maecenas volutpat blandit! Nisi, scelerisque eu ultrices vitae, auctor eu augue ut lectus arcu, bibendum at varius vel, pharetra vel turpis nunc eget lorem dolor, sed viverra. In nulla posuere sollicitudin aliquam ultrices sagittis orci, a scelerisque purus semper. Odio tempor orci dapibus ultrices in iaculis nunc sed augue lacus, viverra vitae congue eu, consequat ac felis! Eget felis eget nunc lobortis mattis aliquam faucibus purus in massa tempor nec feugiat nisl pretium? Libero enim, sed faucibus turpis in eu mi bibendum neque egestas congue quisque egestas diam in arcu cursus euismod quis. Ultrices eros, in cursus turpis massa tincidunt dui ut ornare lectus sit amet est placerat in egestas! Diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere lorem ipsum dolor sit amet, consectetur adipiscing elit duis tristique sollicitudin nibh. Morbi leo urna, molestie at elementum eu, facilisis sed odio morbi quis commodo odio aenean sed adipiscing diam donec adipiscing tristique risus nec feugiat! Tortor aliquam nulla facilisi cras fermentum, odio eu feugiat pretium, nibh ipsum consequat nisl, vel pretium lectus quam id leo in vitae turpis massa? Quam quisque id diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere lorem ipsum dolor sit amet, consectetur adipiscing elit duis tristique? Nulla facilisi etiam dignissim diam quis enim lobortis scelerisque fermentum dui faucibus in ornare quam viverra. Adipiscing at in tellus integer! Libero justo, laoreet sit amet cursus sit amet, dictum sit amet justo donec. Donec massa sapien, faucibus et molestie ac, feugiat sed lectus vestibulum mattis ullamcorper! Quis commodo odio aenean sed adipiscing diam donec adipiscing tristique risus nec feugiat in fermentum posuere urna nec tincidunt praesent semper feugiat.
      </p>
      <img src="./img/02-blurred.jpg" data-src="./img/02.jpg" class="blur">
      <img src="./img/03-blurred.jpg" data-src="./img/03.jpg" class="blur">
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
	  let box = document.getElementById('box'),
	      counter = 0;

	  document.addEventListener('scroll',
				    function() {
					counter++;
					console.log(`Прокрутка. ${counter}`);
				    }, false);
      })
      document.addEventListener('scroll',lazyLoad, false);

      function lazyLoad() {
	  let lazy = document.querySelector('.blur');
	  alert(lazy.hasAttribute('data-src'))
	  if (lazy.hasAttribute('data-src')) {
	      console.log(lazy, '-------');
	      let data = lazy.getAttribute('data-src');
	      console.log(data);
	      lazy.setAttribute('src', data);
	      alert(lazy.getAttribute('src'))
	      lazy.src = data;
	      // lazy.removeAttribute('data-src');
	      // lazy.classList.remove('blur');
	  }
      }
      
      
      
    </script>
  </body>
</html>
